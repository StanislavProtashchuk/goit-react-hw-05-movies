"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[936],{5653:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var a=n(8152),c=n(2791),r=n(3504),o=n(6871),i=n(4635),s={Searchbar:"Movies_Searchbar__LCyHp",SearchForm:"Movies_SearchForm__MevnG",SearchFormButton:"Movies_SearchFormButton__O0Q6X",SearchFormButtonLabel:"Movies_SearchFormButtonLabel__5ENVo",SearchFormInput:"Movies_SearchFormInput__gVywz",cardLinkList:"Movies_cardLinkList__+3Y24",cardLink:"Movies_cardLink__5m+Am"},u=n(184);function m(){var t=(0,c.useState)(""),e=(0,a.Z)(t,2),n=e[0],m=e[1],h=(0,c.useState)([]),l=(0,a.Z)(h,2),f=l[0],_=l[1],d=(0,o.TH)(),p=(0,o.s0)();return(0,c.useEffect)((function(){null!==d.state&&d.state.data&&_((function(t){return d.state.data}))}),[d]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:s.Searchbar,children:(0,u.jsxs)("form",{className:s.SearchForm,onSubmit:function(t){if(t.preventDefault(),""===n.trim())return alert("Please enter film name");p({pathname:d.pathname,search:"query=".concat(n)}),(0,i.XK)(n).then((function(t){_((function(e){return t.data.results}))})).catch((function(t){return t.message})).finally((function(){m("")}))},children:[(0,u.jsx)("button",{className:s.SearchFormButton,type:"submit",children:(0,u.jsx)("span",{className:s.SearchFormButtonLabel})}),(0,u.jsx)("input",{className:s.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,value:n,placeholder:"Search films",onChange:function(t){m(t.currentTarget.value.toLowerCase())}})]})}),f&&(0,u.jsx)("ul",{className:s.cardLinkList,children:f.map((function(t){return(0,u.jsx)("li",{className:s.cardLink,children:(0,u.jsxs)(r.rU,{to:"/movies/".concat(t.id),state:{from:{path:d.pathname+d.search},data:f},className:s.link,children:[(0,u.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w300").concat(t.poster_path),alt:""}),(0,u.jsx)("h3",{children:t.original_title})]})},t.id)}))})]})}},4635:function(t,e,n){n.d(e,{XK:function(){return s},a2:function(){return i},cI:function(){return m},kh:function(){return h},ts:function(){return u}});var a=n(4569),c=n.n(a),r="https://api.themoviedb.org/3/",o="084ca305e7a4e4bb3dbbc7b67e975385";function i(){return c().get("".concat(r,"trending/movie/day?api_key=").concat(o))}function s(t){return c()("".concat(r,"search/movie?api_key=").concat(o,"&query=").concat(t))}function u(t){return c().get("".concat(r,"movie/").concat(t,"?api_key=").concat(o))}function m(t){return c().get("".concat(r,"/movie/").concat(t,"/credits?api_key=").concat(o))}function h(t){return c().get("".concat(r,"/movie/").concat(t,"/reviews?api_key=").concat(o))}}}]);
//# sourceMappingURL=movies.c3c70f6a.chunk.js.map