{"version":3,"file":"static/js/movies.ba39f20d.chunk.js","mappings":"0OACA,GAAgB,UAAY,0BAA0B,WAAa,2BAA2B,iBAAmB,iCAAiC,sBAAwB,sCAAsC,gBAAkB,gCAAgC,aAAe,6BAA6B,SAAW,0B,SCI1S,SAASA,IACtB,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAgCjB,OAJAC,EAAAA,EAAAA,YAAU,WACW,OAAnBJ,EAASK,OAAkBL,EAASK,MAAMC,MAAQP,GAAS,SAAAD,GAAK,OAAIE,EAASK,MAAMC,UAClF,CAACN,KAGA,iCACA,gBAAKO,UAAWC,EAAAA,UAAhB,UACA,kBAAMD,UAAWC,EAAAA,WAAeC,SA5BpC,SAAsBC,GAEpB,GADAA,EAAEC,iBACmB,KAAjBf,EAAMgB,OACR,OAAOC,MAAM,0BAGfX,EAAS,CACPY,SAAUd,EAASc,SACnBC,OAAO,SAAD,OAAWnB,MAGnBoB,EAAAA,EAAAA,IAAYpB,GACTqB,MAAK,SAAAC,GACJnB,GAAS,SAAAD,GAAK,OAAIoB,EAASZ,KAAKa,cAEjCC,OAAM,SAAAC,GAAK,OAAIA,EAAMC,WACrBC,SAAQ,WACP1B,EAAS,QAWX,WACE,mBAAQU,UAAWC,EAAAA,iBAAqBgB,KAAK,SAA7C,UACE,iBAAMjB,UAAWC,EAAAA,2BAGnB,kBACED,UAAWC,EAAAA,gBACXgB,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,MAAO/B,EACPgC,YAAY,eACZC,SA5CR,SAA2BnB,GACzBb,EAASa,EAAEoB,cAAcH,MAAMI,uBAgD5BjC,IAAS,eAAIS,UAAWC,EAAAA,aAAf,SACPV,EAAMkC,KAAI,SAAAC,GACT,OAAO,eAEL1B,UAAWC,EAAAA,SAFN,UAIL,UAAC,KAAD,CAAM0B,GAAE,kBAAaD,EAAKE,IAAM9B,MAAO,CACrC+B,KAAM,CACJC,KAAMrC,EAASc,SAAWd,EAASe,QAErCT,KAAMR,GAENS,UAAWC,EAAAA,KANb,WAOE,gBACE8B,IAAG,UAjEC,mCAiED,OAAiBL,EAAKM,aACzBC,IAAI,KACLP,EAAKQ,mBAbHR,EAAKE,c,6KC9DhBO,EAAW,gCACXC,EAAM,mCAEL,SAASC,IACZ,OAAOC,IAAAA,IAAA,UAAaH,EAAb,sCAAmDC,IAGvD,SAAS3B,EAAapB,GACzB,OAAOiD,GAAAA,CAAM,GAAD,OAAIH,EAAJ,gCAAoCC,EAApC,kBAAiD/C,IAG1D,SAASkD,EAAYC,GACxB,OAAOF,IAAAA,IAAA,UAAaH,EAAb,iBAA8BK,EAA9B,oBAAgDJ,IAGpD,SAASK,EAAYD,GACxB,OAAOF,IAAAA,IAAA,UAAaH,EAAb,kBAA+BK,EAA/B,4BAAyDJ,IAG7D,SAASM,EAAeF,GAC3B,OAAOF,IAAAA,IAAA,UAAaH,EAAb,kBAA+BK,EAA/B,4BAAyDJ","sources":["webpack://goit-react-hw-05-movies/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.jsx","services/API.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"Movies_Searchbar__LCyHp\",\"SearchForm\":\"Movies_SearchForm__MevnG\",\"SearchFormButton\":\"Movies_SearchFormButton__O0Q6X\",\"SearchFormButtonLabel\":\"Movies_SearchFormButtonLabel__5ENVo\",\"SearchFormInput\":\"Movies_SearchFormInput__gVywz\",\"cardLinkList\":\"Movies_cardLinkList__+3Y24\",\"cardLink\":\"Movies_cardLink__5m+Am\"};","import { useState, useEffect } from 'react';\nimport { useLocation, useNavigate, Link } from 'react-router-dom';\nimport { searchFilms } from 'services/API';\nimport s from './Movies.module.css';\n\nexport default function Movies() {\n  const [query, setQuery] = useState('');\n  const [films, setFilms] = useState([]);\n  const location = useLocation();\n  const navigate = useNavigate();\n  const filmImage = 'https://image.tmdb.org/t/p/w300';\n\n  function handleQueryChange(e) {\n    setQuery(e.currentTarget.value.toLowerCase());\n  };\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (query.trim() === '') {\n      return alert('Please enter film name');\n    }\n    \n    navigate({\n      pathname: location.pathname,\n      search: `query=${query}`\n    });\n    \n    searchFilms(query)\n      .then(response => {\n        setFilms(films => response.data.results);\n      })\n      .catch(error => error.message)\n      .finally(() => {\n        setQuery('');\n      });\n  };\n  \n  useEffect(() => {\n    location.state !== null && location.state.data && setFilms(films => location.state.data)\n  }, [location]);\n\n  return (\n      <>\n      <div className={s.Searchbar}>\n      <form className={s.SearchForm}  onSubmit={handleSubmit}>\n        <button className={s.SearchFormButton}  type=\"submit\">\n          <span className={s.SearchFormButtonLabel}></span>\n        </button>\n      \n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          value={query}\n          placeholder=\"Search films\"\n          onChange={handleQueryChange}\n        />\n            </form>\n    </div>\n      \n      {films && <ul className={s.cardLinkList}>\n        {films.map(film => {\n          return <li\n            key={film.id}\n            className={s.cardLink}\n          >\n            <Link to={`/movies/${film.id}`} state={{\n              from: {\n                path: location.pathname + location.search,\n              },\n              data: films\n            }}\n              className={s.link}>\n              <img\n                src={`${filmImage}${film.poster_path}`}\n                alt=\"\" />\n              {film.original_title}\n            </Link>\n          </li>\n        })}\n      </ul>}\n    </>\n  )\n};","import axios from \"axios\";\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst KEY = '084ca305e7a4e4bb3dbbc7b67e975385'\n\nexport function getTrendingToday() {\n    return axios.get(`${BASE_URL}trending/movie/day?api_key=${KEY}`);\n};\n\nexport function searchFilms (query) {\n    return axios(`${BASE_URL}search/movie?api_key=${KEY}&query=${query}`);\n};\n\nexport function getFilmById(filmId){\n    return axios.get(`${BASE_URL}movie/${filmId}?api_key=${KEY}`);\n};\n\nexport function getFilmCast(filmId) {\n    return axios.get(`${BASE_URL}/movie/${filmId}/credits?api_key=${KEY}`);\n};\n\nexport function getFilmReviews(filmId) {\n    return axios.get(`${BASE_URL}/movie/${filmId}/reviews?api_key=${KEY}`);\n};\n\n\n\n\n\n\n\n\n"],"names":["Movies","useState","query","setQuery","films","setFilms","location","useLocation","navigate","useNavigate","useEffect","state","data","className","s","onSubmit","e","preventDefault","trim","alert","pathname","search","searchFilms","then","response","results","catch","error","message","finally","type","autoComplete","autoFocus","value","placeholder","onChange","currentTarget","toLowerCase","map","film","to","id","from","path","src","poster_path","alt","original_title","BASE_URL","KEY","getTrendingToday","axios","getFilmById","filmId","getFilmCast","getFilmReviews"],"sourceRoot":""}